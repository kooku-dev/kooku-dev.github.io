<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <script>
      (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' });
        var f = d.getElementsByTagName(s)[0],
          j = d.createElement(s),
          dl = l != 'dataLayer' ? '&l=' + l : '';
        j.async = true;
        j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
        f.parentNode.insertBefore(j, f);
      })(window, document, 'script', 'dataLayer', 'GTM-KDDR59L');
    </script>
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-88SF4487LG"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());

      gtag('config', 'G-88SF4487LG');
    </script>
    <title>Kooku&#x27;s log - Use WebP images</title>
    <meta property="og:logo" content="https://kooku94.github.io/favicon.ico" />
    <meta property="og:title" content="Use WebP images" />
    <meta property="og:image" content="https://kooku94.github.ioundefined" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:type" content="article" />
    <meta name="next-head-count" content="14" />
    <noscript data-n-css=""></noscript>
    <link rel="preload" href="/_next/static/chunks/main-6249fbbe1f67b21a3abc.js" as="script" />
    <link rel="preload" href="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" as="script" />
    <link rel="preload" href="/_next/static/chunks/framework.bcd77fe60d2cafeaf060.js" as="script" />
    <link rel="preload" href="/_next/static/chunks/commons.0516f781ed99dca41183.js" as="script" />
    <link
      rel="preload"
      href="/_next/static/chunks/6335da8543c52d3af527c387f688061357787349.ce523ab734a4a38bcdf8.js"
      as="script"
    />
    <link
      rel="preload"
      href="/_next/static/chunks/pages/_app-8e51250624efe0d4f775.js"
      as="script"
    />
    <link rel="preload" href="/_next/static/chunks/b2e984c5.dde205419b836c367968.js" as="script" />
    <link
      rel="preload"
      href="/_next/static/chunks/2c3b9bffc7150b37a7b3810dfcf1c0b0fac2bd18.3c035e65c4e49f36a0e4.js"
      as="script"
    />
    <link
      rel="preload"
      href="/_next/static/chunks/pages/posts/%5Bslug%5D-610214db06f58418f77a.js"
      as="script"
    />
  </head>
  <body>
    <div id="__next">
      <noscript
        ><iframe
          src="https://www.googletagmanager.com/ns.html?id=GTM-KDDR59L"
          height="0"
          width="0"
          style="display: none; visibility: hidden"
        ></iframe></noscript
      ><style data-emotion="css-global 1g30n2o">
        * {
          -webkit-user-select: none;
          -moz-user-select: none;
          -ms-user-select: none;
          user-select: none;
          box-sizing: border-box;
        }
        html,
        body {
          font-family: 'Spoqa Han Sans Neo', sans-serif !important;
          margin: 0;
          padding: 0;
          border: 0;
        }
        html,
        body,
        div,
        span,
        applet,
        object,
        iframe,
        h1,
        h2,
        h3,
        h4,
        h5,
        p,
        blockquote,
        pre,
        a,
        abbr,
        acronym,
        address,
        big,
        cite,
        code,
        del,
        dfn,
        em,
        img,
        ins,
        kbd,
        q,
        s,
        samp,
        small,
        strike,
        strong,
        sub,
        sup,
        tt,
        var,
        b,
        u,
        i,
        center,
        dl,
        dt,
        dd,
        menu,
        ol,
        ul,
        li,
        fieldset,
        form,
        label,
        legend,
        table,
        caption,
        tbody,
        tfoot,
        thead,
        tr,
        th,
        td,
        article,
        aside,
        canvas,
        details,
        embed,
        figure,
        figcaption,
        footer,
        header,
        hgroup,
        main,
        menu,
        nav,
        output,
        ruby,
        section,
        summary,
        time,
        mark,
        audio,
        video {
          margin: 0;
          padding: 0;
          border: 0;
          vertical-align: baseline;
        }
        article,
        aside,
        details,
        figcaption,
        figure,
        footer,
        header,
        hgroup,
        main,
        menu,
        nav,
        section {
          display: block;
        }
        *[hidden] {
          display: none;
        }
        body {
          line-height: 1;
        }
        input::-ms-clear,
        input::-ms-reveal {
          display: none;
          width: 0;
          height: 0;
        }
        input::-webkit-search-decoration,
        input::-webkit-search-cancel-button,
        input::-webkit-search-results-button,
        input::-webkit-search-results-decoration {
          display: none;
        }
        *:active {
          -webkit-tap-highlight-color: transparent;
          outline: none;
        }
        *:focus {
          outline: 0;
        }
        a {
          -webkit-text-decoration: none;
          text-decoration: none;
        }
        input[type='number']::-webkit-outer-spin-button,
        input[type='number']::-webkit-inner-spin-button {
          -webkit-appearance: none;
          margin: 0;
        }
        button,
        *[role='button'] {
          cursor: pointer;
        }</style
      ><style data-emotion="css bjn8wh">
        .css-bjn8wh {
          position: relative;
        }
      </style>
      <div class="css-bjn8wh ep629fi11">
        <style data-emotion="css 1ljwmfs">
          .css-1ljwmfs {
            background: linear-gradient(72deg, #6ecaf5, #e7c6f1);
            position: -webkit-sticky;
            position: sticky;
            left: 0;
            right: 0;
            top: 0;
            z-index: 999;
          }
        </style>
        <div class="css-1ljwmfs e1ohtyx52">
          <style data-emotion="css 1518suw">
            .css-1518suw {
              display: -webkit-box;
              display: -webkit-flex;
              display: -ms-flexbox;
              display: flex;
              -webkit-box-pack: justify;
              -webkit-justify-content: space-between;
              justify-content: space-between;
              -webkit-align-items: center;
              -webkit-box-align: center;
              -ms-flex-align: center;
              align-items: center;
              height: 60px;
            }
            @media (min-width: 1024px) {
              .css-1518suw {
                max-width: 1024px;
                margin: 0 auto;
              }
            }
            @media (min-width: 768px) and (max-width: 1023px) {
              .css-1518suw {
                max-width: 960px;
                margin: 0 32px;
              }
            }
            @media (max-width: 767px) {
              .css-1518suw {
                max-width: 100%;
                margin: 0 16px;
              }
            }
          </style>
          <nav class="css-1518suw e1ohtyx51">
            <style data-emotion="css itptq8">
              .css-itptq8 {
                color: #ffffff;
                opacity: 0.7;
                font-size: 28px;
                font-weight: 800;
              }
            </style>
            <h3 role="button" tabindex="0" class="css-itptq8 e1ohtyx50">Kooku&#x27;s log</h3>
            <style data-emotion="css 1p39xhz">
              .css-1p39xhz {
                float: right;
                padding: 14px;
                opacity: 0.6;
              }</style
            ><a href="https://github.com/kooku94" aria-label="GitHub" class="css-1p39xhz"
              ><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">
                <path
                  d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"
                ></path></svg
            ></a>
          </nav>
        </div>
        <article class="css-0 ep629fi9">
          <style data-emotion="css 1cfjemv">
            .css-1cfjemv {
              position: relative;
              padding-bottom: 32px;
            }
            @media (min-width: 1024px) {
              .css-1cfjemv {
                max-width: 780px;
                margin: 0 auto;
              }
            }
            @media (min-width: 768px) and (max-width: 1023px) {
              .css-1cfjemv {
                max-width: 780px;
                margin: 0 32px;
              }
            }
            @media (max-width: 767px) {
              .css-1cfjemv {
                max-width: 100%;
              }
            }
            @media (max-width: 767px) {
              .css-1cfjemv {
                margin: 0 16px;
              }
            }
          </style>
          <section class="css-1cfjemv ep629fi8">
            <style data-emotion="css 1d0nbku">
              .css-1d0nbku {
                margin-top: 24px;
              }
            </style>
            <div class="css-1d0nbku ep629fi7">
              <style data-emotion="css tl449l">
                .css-tl449l {
                  color: #8d949f;
                  font-size: 14px;
                  font-weight: bold;
                  line-height: 1.57;
                  margin-right: 8px;
                }</style
              ><span class="css-tl449l ep629fi6">Web</span>
            </div>
            <header>
              <style data-emotion="css ljp8x3">
                .css-ljp8x3 {
                  color: #000000;
                  margin: 8px 0 24px 0;
                  font-size: 26px;
                  font-weight: bold;
                  line-height: 1.2;
                }
              </style>
              <h1 class="css-ljp8x3 ep629fi5">Use WebP images</h1>
            </header>
            <style data-emotion="css 1829sa1">
              .css-1829sa1 {
                color: #535a65;
                font-size: 16px;
                font-weight: normal;
                line-height: 1.63;
                min-height: 320px;
              }
            </style>
            <div class="css-1829sa1 ep629fi4">
              <style data-emotion="css 16cgglh">
                .css-16cgglh time {
                  color: #9b9b9b;
                }
                .css-16cgglh p {
                  line-height: 1.5rem;
                  margin: 1rem 0 0 0;
                }
                .css-16cgglh a {
                  font-size: 1rem;
                  color: #358cd6;
                  -webkit-text-decoration: underline;
                  text-decoration: underline;
                }
                .css-16cgglh h1 {
                  font-size: 2rem;
                  margin: 2.5rem 0 0 0;
                }
                .css-16cgglh h2,
                .css-16cgglh h3,
                .css-16cgglh h4,
                .css-16cgglh h5 {
                  margin: 1.5rem 0 0.5rem 0;
                  line-height: 1.25em;
                }
                .css-16cgglh h2::before {
                  position: absolute;
                  margin-left: -1em;
                  font-weight: 300;
                  font-size: 1.5rem;
                  color: #9b9b9b;
                  display: none;
                  content: '#';
                }
                .css-16cgglh img {
                  width: 100%;
                }
                .css-16cgglh table {
                  max-width: 100%;
                  border-spacing: 0;
                  margin-top: 1.5rem;
                }
                .css-16cgglh table thead {
                  background: #f7f7f7;
                }
                .css-16cgglh table th {
                  font-weight: 500;
                }
                .css-16cgglh table th,
                .css-16cgglh table td {
                  padding: 0.5em 1em;
                  border: 1px double #eee;
                }
                .css-16cgglh ul {
                  list-style-type: disc;
                }
                .css-16cgglh ol {
                  list-style-type: decimal;
                }
                .css-16cgglh ul ul,
                .css-16cgglh ol ul {
                  list-style-type: circle;
                }
                .css-16cgglh blockquote {
                  border-left: 3px solid rgb(239, 240, 244);
                  margin: 15px 0;
                  padding-left: 16px;
                }
                .css-16cgglh blockquote p {
                  margin-top: 0;
                }
                .css-16cgglh ol,
                .css-16cgglh ul {
                  padding: 0 0 0 1.5rem;
                  margin: 1.5rem 0 0 0;
                  margin: 0;
                }
                .css-16cgglh ol li,
                .css-16cgglh ul li {
                  line-height: 1.5rem;
                  margin: 0;
                }
                .css-16cgglh .youtube-container {
                  position: relative;
                  width: 100%;
                  height: 0;
                  padding-bottom: 56.25%;
                  overflow: hidden;
                  margin: 20px 0;
                }
                .css-16cgglh .youtube-container iframe {
                  width: 100%;
                  height: 100%;
                  position: absolute;
                  top: 0;
                  left: 0;
                }
                .css-16cgglh iframe {
                  position: absolute;
                  top: 0;
                  left: 0;
                  width: 100%;
                  height: 100%;
                }
                .css-16cgglh p > code {
                  padding: 0.1rem 0.3rem;
                  border-radius: 4px;
                  background-color: #f2f5fc;
                  color: #275fc8;
                  font-size: 1rem;
                  font-weight: bold;
                }
                .css-16cgglh pre {
                  padding: 1.2em;
                  margin: 1.5em 0;
                  overflow: auto;
                  border-radius: 0.6em;
                  color: #e0e0e0;
                  background: #212121;
                  font-family: 'Consolas', 'Monaco', 'Andale Mono', 'Ubuntu Mono', monospace;
                  text-align: left;
                  white-space: pre;
                  word-spacing: normal;
                  word-break: normal;
                  word-wrap: normal;
                  line-height: 1.6;
                  font-size: 13px;
                  -moz-tab-size: 2;
                  -o-tab-size: 2;
                  tab-size: 2;
                  -webkit-hyphens: none;
                  -moz-hyphens: none;
                  -ms-hyphens: none;
                  -webkit-hyphens: none;
                  -moz-hyphens: none;
                  -ms-hyphens: none;
                  hyphens: none;
                  -ms-overflow-style: none;
                  overflow: -moz-scrollbars-none;
                }
                .css-16cgglh code[class*='language-'],
                .css-16cgglh pre[class*='language-'] {
                  color: #e0e0e0;
                  background: none;
                  font-family: 'Consolas', 'Monaco', 'Andale Mono', 'Ubuntu Mono', monospace;
                  text-align: left;
                  white-space: pre;
                  word-spacing: normal;
                  word-break: normal;
                  word-wrap: normal;
                  line-height: 1.6;
                  font-size: 13px;
                  -moz-tab-size: 2;
                  -o-tab-size: 2;
                  tab-size: 2;
                  -webkit-hyphens: none;
                  -moz-hyphens: none;
                  -ms-hyphens: none;
                  -webkit-hyphens: none;
                  -moz-hyphens: none;
                  -ms-hyphens: none;
                  hyphens: none;
                  -ms-overflow-style: none;
                  overflow: -moz-scrollbars-none;
                }
                .css-16cgglh pre[class*='language-']::-webkit-scrollbar {
                  display: none;
                }
                .css-16cgglh pre[class*='language-'] {
                  padding: 1.2em;
                  margin: 1.5em 0;
                  overflow: auto;
                  border-radius: 0.6em;
                }
                .css-16cgglh:not(pre) > code[class*='language-'],
                .css-16cgglh pre[class*='language-'] {
                  background: #212121;
                }
                .css-16cgglh:not(pre) > code[class*='language-'] {
                  padding: 0.1em 0.6em;
                  border-radius: 0.2em;
                  white-space: normal;
                  background: $inline-dimmed-color;
                  color: $inline-text-color;
                }
                .css-16cgglh .token.comment,
                .css-16cgglh .token.block-comment,
                .css-16cgglh .token.prolog,
                .css-16cgglh .token.doctype,
                .css-16cgglh .token.cdata {
                  color: #868282;
                }
                .css-16cgglh .token.punctuation {
                  color: #e0e0e0;
                }
                .css-16cgglh pre[class*='language-'] .tag {
                  color: #358cd6;
                }
                .css-16cgglh .token.attr-name {
                  color: #6196cc;
                }
                .css-16cgglh .token.namespace,
                .css-16cgglh .token.deleted {
                  color: #e2777a;
                }
                .css-16cgglh .token.function-name {
                  color: #6196cc;
                }
                .css-16cgglh .token.boolean {
                  color: #358cd6;
                }
                .css-16cgglh .token.number {
                  color: #b5ce98;
                }
                .css-16cgglh .token.function {
                  color: #dcdcaa;
                }
                .css-16cgglh .token.property,
                .css-16cgglh .token.class-name,
                .css-16cgglh .token.constant,
                .css-16cgglh .token.symbol {
                  color: #4ec9b2;
                }
                .css-16cgglh .token.selector,
                .css-16cgglh .token.important,
                .css-16cgglh .token.atrule,
                .css-16cgglh .token.keyword,
                .css-16cgglh .token.builtin {
                  color: #c586c0;
                }
                .css-16cgglh .token.string,
                .css-16cgglh .token.char,
                .css-16cgglh .token.attr-value,
                .css-16cgglh .token.regex,
                .css-16cgglh .token.variable {
                  color: #ce9178;
                }
                .css-16cgglh .token.operator,
                .css-16cgglh .token.entity,
                .css-16cgglh .token.url {
                  color: #67cdcc;
                }
                .css-16cgglh .token.important,
                .css-16cgglh .token.bold {
                  font-weight: bold;
                }
                .css-16cgglh .token.italic {
                  font-style: italic;
                }
                .css-16cgglh .token.entity {
                  cursor: help;
                }
                .css-16cgglh .token.inserted {
                  color: green;
                }
              </style>
              <div class="css-16cgglh ep629fi3">
                <blockquote>
                  <p>
                    구글이 Webp를 만들어서 무료로 뿌리는 이유는 돈 때문이다. 구글 혼자서 엄청난
                    인터넷 트래픽을 사용하고 있는데, 이미지 포맷만 최적화해도 서버 트래픽이 크게
                    줄어 서버비를 아낄 수 있다. 게다가 인터넷 속도가 빨라질수록 광고 매출도 늘어나기
                    때문에 구글은 항상 인터넷 속도를 올리려고 노력한다.
                  </p>
                  <p><a href="https://namu.wiki/w/WebP">WebP 제작 배경 :: 나무위키</a></p>
                </blockquote>
                <p>
                  webp 포멧의 이미지는 JPEG 및 PNG 이미지보다 작으며 일반적으로 파일크기가 25~35%
                  작습니다. 이로인해 First load times를 줄일 수 있습니다
                </p>
                <ul>
                  <li>
                    YouTube는 Thumbnail 이미지를 WebP로 전환한 결과 페이지로드 속도가 10%
                    빨라졌습니다.
                  </li>
                  <li>
                    Facebook은 WebP를 사용하도록 전환했을 때 JPEG와 비교했을 경우 25 ~ 35%, PNG와
                    비교했을 경우 80%의 파일크기 절감을 경험했습니다.
                  </li>
                </ul>
                <p>
                  WebP는 JPEG, PNG 및 GIF 이미지를 완전히 대체할 수 있으며, lossless and lossy
                  compression 을 모두 지원합니다. <code>lossless compression</code> 은 데이터의
                  손실이 발생하지않고 <code>lossy compression</code>는 파일크기가 줄어들고 이미지
                  화질을 떨어지게 하는 압축입니다.
                </p>
                <h2>Convert images to WebP</h2>
                <p>
                  이미지를 WebP로 변환할 때 보통
                  <a href="https://developers.google.com/speed/webp/docs/using"
                    >cwebp command-line tool</a
                  >
                  와 <a href="https://github.com/imagemin/imagemin-webp">Imagemin WebP plugin</a>을
                  사용합니다. Imagemin WebP plugin은 Webpack이나 Gulp와 같은 build tools를 사용하는
                  프로젝트에 최고의 선택이고 CLI는 image를 한 번만 변환시킬 때 사용하기 좋습니다.
                </p>
                <p>
                  이미지를 WebP로 변환할 때 다양한 압축 설정을 지정할 수 있지만 가장 중요하게 봐야할
                  것이 품질수준입니다. 0(최약)에서 100(최상)까지 품질 수준을 지정할 수 있기에 필요에
                  맞는 이미지 품질과 파일크기를 고려하여 선택하면 됩니다.
                </p>
                <h3>Use cwebp</h3>
                <p>간단히 하나의 파일을 변경할 때는 cwebp를 사용하면 됩니다.</p>
                <p>default:</p>
                <pre
                  class="language-bash"
                ><code class="language-bash">cwebp images/flower.jpg -o images/flower.webp
</code></pre>
                <p>using a query level of <code>50</code>:</p>
                <pre
                  class="language-bash"
                ><code class="language-bash">cwebp -q <span class="token number">50</span> images/flower.jpg -o images/flower.webp
</code></pre>
                <p>Convert all files in a directory:</p>
                <pre
                  class="language-bash"
                ><code class="language-bash"><span class="token keyword">for</span> <span class="token for-or-select variable">file</span> <span class="token keyword">in</span> images/*<span class="token punctuation">;</span> <span class="token keyword">do</span> cwebp <span class="token string">"<span class="token variable">$file</span>"</span> -o <span class="token string">"<span class="token variable">${file<span class="token operator">%</span>.*}</span>.webp"</span><span class="token punctuation">;</span> <span class="token keyword">done</span>
</code></pre>
                <h3>Use Imagemin</h3>
                <p>
                  Imagemin은 Webpack과 같은 build tools를 사용하는 프로젝트에서 사용하기 좋습니다.
                </p>
                <p>
                  간단히
                  <a href="https://www.npmjs.com/package/imagemin-webp-webpack-plugin"
                    >imagemin-webp-webpack-plugin</a
                  >을 사용하면 될 것 같습니다.
                </p>
                <pre
                  class="language-js"
                ><code class="language-js"><span class="token keyword">const</span> <span class="token maybe-class-name">ImageminWebpWebpackPlugin</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"imagemin-webp-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span><span class="token property-access">exports</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">ImageminWebpWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
                <h2>Serve WebP images</h2>
                <p>
                  만약 WebP를 제공하지 않는
                  <a href="https://caniuse.com/?search=webp">브라우저</a>라면 fallback을 설정할 수도
                  있습니다.
                </p>
                <h4>Before:</h4>
                <pre
                  class="language-html"
                ><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flower.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
</code></pre>
                <h4>After:</h4>
                <pre
                  class="language-html"
                ><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>picture</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>source</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>image/webp<span class="token punctuation">"</span></span> <span class="token attr-name">srcset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flower.webp<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>source</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>image/jpeg<span class="token punctuation">"</span></span> <span class="token attr-name">srcset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flower.jpg<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>flower.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>picture</span><span class="token punctuation">></span></span>
</code></pre>
                <p>
                  <code>&#x3C;picture></code>안의 <code>&#x3C;source></code> 및
                  <code>&#x3C;img></code> 태그는 상위에 대한 fallback입니다.
                </p>
                <h3>picture</h3>
                <p>
                  <code>&#x3C;picture></code>는 0개 이상의 <code>&#x3C;source></code>와 하나의
                  <code>&#x3C;img></code> 태그의 wrapper입니다.
                </p>
                <h3>source</h3>
                <p><code>&#x3C;source></code> 태그는 미디어 리소스를 지정합니다.</p>
                <p>
                  브라우저에 지원되는 형식을 순서대로 따라가며, 만약 지원하지 않는 경우
                  <code>&#x3C;img></code> 태그에 지정된 이미지로 대체됩니다.
                </p>
                <h3>image</h3>
                <p>
                  <code>&#x3C;img></code>의 경우 <code>&#x3C;picture></code> 태그를 지원하지 않는
                  경우 <code>&#x3C;img></code> 태그의 image를 로드하게 됩니다.
                </p>
                <h2>Verify WebP usage</h2>
                <p>
                  Lighthouse는 사이트의 모든 이미지가 WebP를 사용하지는 체크하고, 사용하지 않는
                  이미지를 나열합니다.
                </p>
                <h2>Reference</h2>
                <ul>
                  <li>
                    <a href="https://web.dev/serve-images-webp/">Use WebP images :: WebDev</a>
                  </li>
                </ul>
              </div>
            </div>
            <style data-emotion="css 9vkh6d">
              .css-9vkh6d {
                display: -webkit-box;
                display: -webkit-flex;
                display: -ms-flexbox;
                display: flex;
                -webkit-flex-direction: column;
                -ms-flex-direction: column;
                flex-direction: column;
                -webkit-box-pack: center;
                -ms-flex-pack: center;
                -webkit-justify-content: center;
                justify-content: center;
                width: 100%;
                margin-top: 48px;
              }
              .css-9vkh6d button {
                display: -webkit-box;
                display: -webkit-flex;
                display: -ms-flexbox;
                display: flex;
                -webkit-align-items: center;
                -webkit-box-align: center;
                -ms-flex-align: center;
                align-items: center;
                -webkit-box-pack: center;
                -ms-flex-pack: center;
                -webkit-justify-content: center;
                justify-content: center;
                width: 240px;
                height: 48px;
                border: none;
                margin: 8px auto;
                border-radius: 4px;
                font-size: 16px;
                font-weight: bold;
                padding: 16px;
                position: relative;
              }
            </style>
            <div class="css-9vkh6d ep629fi2">
              <style data-emotion="css 1qw3ucq">
                .css-1qw3ucq {
                  background-color: #e8f3ff;
                  color: #1d6ff2;
                  margin-bottom: 16px;
                }
                .css-1qw3ucq > svg {
                  position: absolute;
                  left: 16px;
                }</style
              ><button class="like-button css-1qw3ucq ep629fi1">
                <svg
                  viewBox="0 0 24 24"
                  style="width: 20; height: 20"
                  role="presentation"
                  class="like-button"
                >
                  <path
                    d="M12.1,18.55L12,18.65L11.89,18.55C7.14,14.24 4,11.39 4,8.5C4,6.5 5.5,5 7.5,5C9.04,5 10.54,6 11.07,7.36H12.93C13.46,6 14.96,5 16.5,5C18.5,5 20,6.5 20,8.5C20,11.39 16.86,14.24 12.1,18.55M16.5,3C14.76,3 13.09,3.81 12,5.08C10.91,3.81 9.24,3 7.5,3C4.42,3 2,5.41 2,8.5C2,12.27 5.4,15.36 10.55,20.03L12,21.35L13.45,20.03C18.6,15.36 22,12.27 22,8.5C22,5.41 19.58,3 16.5,3Z"
                    style="fill: #1d6ff2"
                  ></path></svg
                >LIKE</button
              ><style data-emotion="css qkt14p">
                .css-qkt14p {
                  background-color: #e5e8ec;
                  color: #535a65;
                }
                .css-qkt14p > img {
                  position: absolute;
                  left: 16px;
                }</style
              ><button class="share-button css-qkt14p ep629fi0">
                <img
                  src="/icon/share.svg"
                  alt="share"
                  height="20"
                  width="20"
                  class="share-button css-0 ep629fi10"
                />SHARE
              </button>
            </div>
          </section>
        </article>
      </div>
    </div>
    <script id="__NEXT_DATA__" type="application/json">
      {
        "props": {
          "pageProps": {
            "post": {
              "title": "Use WebP images",
              "slug": "use-webp-images",
              "content": "\u003cblockquote\u003e\n\u003cp\u003e구글이 Webp를 만들어서 무료로 뿌리는 이유는 돈 때문이다. 구글 혼자서 엄청난 인터넷 트래픽을 사용하고 있는데, 이미지 포맷만 최적화해도 서버 트래픽이 크게 줄어 서버비를 아낄 수 있다. 게다가 인터넷 속도가 빨라질수록 광고 매출도 늘어나기 때문에 구글은 항상 인터넷 속도를 올리려고 노력한다.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://namu.wiki/w/WebP\"\u003eWebP 제작 배경 :: 나무위키\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003ewebp 포멧의 이미지는 JPEG 및 PNG 이미지보다 작으며 일반적으로 파일크기가 25~35% 작습니다. 이로인해 First load times를 줄일 수 있습니다\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eYouTube는 Thumbnail 이미지를 WebP로 전환한 결과 페이지로드 속도가 10% 빨라졌습니다.\u003c/li\u003e\n\u003cli\u003eFacebook은 WebP를 사용하도록 전환했을 때 JPEG와 비교했을 경우 25 ~ 35%, PNG와 비교했을 경우 80%의 파일크기 절감을 경험했습니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eWebP는 JPEG, PNG 및 GIF 이미지를 완전히 대체할 수 있으며, lossless and lossy compression 을 모두 지원합니다. \u003ccode\u003elossless compression\u003c/code\u003e 은 데이터의 손실이 발생하지않고 \u003ccode\u003elossy compression\u003c/code\u003e는 파일크기가 줄어들고 이미지 화질을 떨어지게 하는 압축입니다.\u003c/p\u003e\n\u003ch2\u003eConvert images to WebP\u003c/h2\u003e\n\u003cp\u003e이미지를 WebP로 변환할 때 보통 \u003ca href=\"https://developers.google.com/speed/webp/docs/using\"\u003ecwebp command-line tool\u003c/a\u003e 와 \u003ca href=\"https://github.com/imagemin/imagemin-webp\"\u003eImagemin WebP plugin\u003c/a\u003e을 사용합니다. Imagemin WebP plugin은 Webpack이나 Gulp와 같은 build tools를 사용하는 프로젝트에 최고의 선택이고 CLI는 image를 한 번만 변환시킬 때 사용하기 좋습니다.\u003c/p\u003e\n\u003cp\u003e이미지를 WebP로 변환할 때 다양한 압축 설정을 지정할 수 있지만 가장 중요하게 봐야할 것이 품질수준입니다. 0(최약)에서 100(최상)까지 품질 수준을 지정할 수 있기에 필요에 맞는 이미지 품질과 파일크기를 고려하여 선택하면 됩니다.\u003c/p\u003e\n\u003ch3\u003eUse cwebp\u003c/h3\u003e\n\u003cp\u003e간단히 하나의 파일을 변경할 때는 cwebp를 사용하면 됩니다.\u003c/p\u003e\n\u003cp\u003edefault:\u003c/p\u003e\n\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003ecwebp images/flower.jpg -o images/flower.webp\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eusing a query level of \u003ccode\u003e50\u003c/code\u003e:\u003c/p\u003e\n\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003ecwebp -q \u003cspan class=\"token number\"\u003e50\u003c/span\u003e images/flower.jpg -o images/flower.webp\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eConvert all files in a directory:\u003c/p\u003e\n\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003e\u003cspan class=\"token keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"token for-or-select variable\"\u003efile\u003c/span\u003e \u003cspan class=\"token keyword\"\u003ein\u003c/span\u003e images/*\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token keyword\"\u003edo\u003c/span\u003e cwebp \u003cspan class=\"token string\"\u003e\"\u003cspan class=\"token variable\"\u003e$file\u003c/span\u003e\"\u003c/span\u003e -o \u003cspan class=\"token string\"\u003e\"\u003cspan class=\"token variable\"\u003e${file\u003cspan class=\"token operator\"\u003e%\u003c/span\u003e.*}\u003c/span\u003e.webp\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token keyword\"\u003edone\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003eUse Imagemin\u003c/h3\u003e\n\u003cp\u003eImagemin은 Webpack과 같은 build tools를 사용하는 프로젝트에서 사용하기 좋습니다.\u003c/p\u003e\n\u003cp\u003e간단히 \u003ca href=\"https://www.npmjs.com/package/imagemin-webp-webpack-plugin\"\u003eimagemin-webp-webpack-plugin\u003c/a\u003e을 사용하면 될 것 같습니다.\u003c/p\u003e\n\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"token maybe-class-name\"\u003eImageminWebpWebpackPlugin\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003erequire\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"imagemin-webp-webpack-plugin\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\nmodule\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eexports\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  plugins\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eImageminWebpWebpackPlugin\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eServe WebP images\u003c/h2\u003e\n\u003cp\u003e만약 WebP를 제공하지 않는 \u003ca href=\"https://caniuse.com/?search=webp\"\u003e브라우저\u003c/a\u003e라면 fallback을 설정할 수도 있습니다.\u003c/p\u003e\n\u003ch4\u003eBefore:\u003c/h4\u003e\n\u003cpre class=\"language-html\"\u003e\u003ccode class=\"language-html\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003eimg\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003esrc\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003eflower.jpg\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003ealt\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch4\u003eAfter:\u003c/h4\u003e\n\u003cpre class=\"language-html\"\u003e\u003ccode class=\"language-html\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003epicture\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n  \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003esource\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003etype\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003eimage/webp\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003esrcset\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003eflower.webp\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\n  \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003esource\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003etype\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003eimage/jpeg\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003esrcset\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003eflower.jpg\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\n  \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003eimg\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003esrc\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003eflower.jpg\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003ealt\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e/\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003epicture\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ccode\u003e\u0026#x3C;picture\u003e\u003c/code\u003e안의 \u003ccode\u003e\u0026#x3C;source\u003e\u003c/code\u003e 및 \u003ccode\u003e\u0026#x3C;img\u003e\u003c/code\u003e 태그는 상위에 대한 fallback입니다.\u003c/p\u003e\n\u003ch3\u003epicture\u003c/h3\u003e\n\u003cp\u003e\u003ccode\u003e\u0026#x3C;picture\u003e\u003c/code\u003e는 0개 이상의 \u003ccode\u003e\u0026#x3C;source\u003e\u003c/code\u003e와 하나의 \u003ccode\u003e\u0026#x3C;img\u003e\u003c/code\u003e 태그의 wrapper입니다.\u003c/p\u003e\n\u003ch3\u003esource\u003c/h3\u003e\n\u003cp\u003e\u003ccode\u003e\u0026#x3C;source\u003e\u003c/code\u003e 태그는 미디어 리소스를 지정합니다.\u003c/p\u003e\n\u003cp\u003e브라우저에 지원되는 형식을 순서대로 따라가며, 만약 지원하지 않는 경우 \u003ccode\u003e\u0026#x3C;img\u003e\u003c/code\u003e 태그에 지정된 이미지로 대체됩니다.\u003c/p\u003e\n\u003ch3\u003eimage\u003c/h3\u003e\n\u003cp\u003e\u003ccode\u003e\u0026#x3C;img\u003e\u003c/code\u003e의 경우 \u003ccode\u003e\u0026#x3C;picture\u003e\u003c/code\u003e 태그를 지원하지 않는 경우 \u003ccode\u003e\u0026#x3C;img\u003e\u003c/code\u003e 태그의 image를 로드하게 됩니다.\u003c/p\u003e\n\u003ch2\u003eVerify WebP usage\u003c/h2\u003e\n\u003cp\u003eLighthouse는 사이트의 모든 이미지가 WebP를 사용하지는 체크하고, 사용하지 않는 이미지를 나열합니다.\u003c/p\u003e\n\u003ch2\u003eReference\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://web.dev/serve-images-webp/\"\u003eUse WebP images :: WebDev\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e",
              "tags": [{ "slug": "web", "name": "Web" }]
            }
          },
          "__N_SSG": true
        },
        "page": "/posts/[slug]",
        "query": { "slug": "use-webp-images" },
        "buildId": "vXCZ0B-zaqG_Nty_bH4MG",
        "nextExport": false,
        "isFallback": false,
        "gsp": true
      }
    </script>
    <script nomodule="" src="/_next/static/chunks/polyfills-af28de04c604a2479390.js"></script>
    <script src="/_next/static/chunks/main-6249fbbe1f67b21a3abc.js" async=""></script>
    <script src="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" async=""></script>
    <script src="/_next/static/chunks/framework.bcd77fe60d2cafeaf060.js" async=""></script>
    <script src="/_next/static/chunks/commons.0516f781ed99dca41183.js" async=""></script>
    <script
      src="/_next/static/chunks/6335da8543c52d3af527c387f688061357787349.ce523ab734a4a38bcdf8.js"
      async=""
    ></script>
    <script src="/_next/static/chunks/pages/_app-8e51250624efe0d4f775.js" async=""></script>
    <script src="/_next/static/chunks/b2e984c5.dde205419b836c367968.js" async=""></script>
    <script
      src="/_next/static/chunks/2c3b9bffc7150b37a7b3810dfcf1c0b0fac2bd18.3c035e65c4e49f36a0e4.js"
      async=""
    ></script>
    <script
      src="/_next/static/chunks/pages/posts/%5Bslug%5D-610214db06f58418f77a.js"
      async=""
    ></script>
    <script src="/_next/static/vXCZ0B-zaqG_Nty_bH4MG/_buildManifest.js" async=""></script>
    <script src="/_next/static/vXCZ0B-zaqG_Nty_bH4MG/_ssgManifest.js" async=""></script>
  </body>
</html>
