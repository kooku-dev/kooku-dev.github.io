<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Kooku log RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Kooku log Atom Feed"><title data-react-helmet="true">Data Fetching Library | Kooku log</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://kooku-dev.gihub.io/blog/data-fetching-library/"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><meta data-react-helmet="true" property="og:title" content="Data Fetching Library | Kooku log"><meta data-react-helmet="true" name="description" content="Data fetching library가 탄생하게된 배경과 장점"><meta data-react-helmet="true" property="og:description" content="Data fetching library가 탄생하게된 배경과 장점"><meta data-react-helmet="true" property="og:type" content="article"><meta data-react-helmet="true" property="article:published_time" content="2021-07-22T00:00:00.000Z"><meta data-react-helmet="true" property="article:tag" content="react"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://kooku-dev.gihub.io/blog/data-fetching-library/"><link data-react-helmet="true" rel="alternate" href="https://kooku-dev.gihub.io/blog/data-fetching-library/" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://kooku-dev.gihub.io/blog/data-fetching-library/" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.9e939927.css">
<link rel="preload" href="/assets/js/runtime~main.caa89752.js" as="script">
<link rel="preload" href="/assets/js/main.f2a31ec8.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/favicon.ico" alt="My Site Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/favicon.ico" alt="My Site Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">Kooku&#x27;s log</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog/">블로그</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/kooku-dev/kooku-dev.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleChecked_a04y toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">🌜</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">🌞</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" checked="" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_q+wC thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_9G5K margin-bottom--md">Recent posts</div><ul class="sidebarItemList_6T4b"><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/react에서-side-effect를-관리하는-법/">React에서 side effect를 관리하는 법</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/마이크로서비스-아키텍처를-모노레포로-관리하기/">마이크로서비스 아키텍처를 모노레포로 관리하기</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/재사용-가능한-컴포넌트/">재사용 가능한 컴포넌트</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2021년-10월-둘째-주-회고/">2021년 10월 둘째 주 회고</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2021년-10월-첫째-주-회고/">2021년 10월 첫째 주 회고</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="blogPostTitle_d4p0" itemprop="headline">Data Fetching Library</h1><div class="blogPostData_-Im+ margin-vert--md"><time datetime="2021-07-22T00:00:00.000Z" itemprop="datePublished">July 22, 2021</time> · <!-- -->4 min read</div></header><div class="markdown" itemprop="articleBody"><p>Data fetching library가 탄생하게된 배경과 장점</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="기존-상태관리-라이브러리들의-문제점">기존 상태관리 라이브러리들의 문제점<a aria-hidden="true" class="hash-link" href="#기존-상태관리-라이브러리들의-문제점" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="1-데이터-일관성-consistency">1. 데이터 일관성 (Consistency)<a aria-hidden="true" class="hash-link" href="#1-데이터-일관성-consistency" title="Direct link to heading">​</a></h3><p>많은 Frontend Project들이 React, Vue 등을 이용해 SPA로 개발되고 있습니다. 이러한 SPA는 Application의 데이터가 Frontend와 Backend 두 곳에 있다는 것을 의미했습니다. Redux와 같은 상태관리 라이브러리를 사용할 때 Store를 Backend 상태에 대한 Data Cache로 사용하는 경우가 대부분이기 때문입니다. 데이터를 fetching 한 후 store에 저장하여 필요한 곳에서 사용하는 것이죠. 하지만 fetching 해온 데이터의 경우 시간이 지날수록 Backend 데이터와 일관성이 깨지기 때문에 데이터를 최신으로 유지하기 위해 주기적으로 호출함(refetching)으로써 Frontend, Backend 두 곳에 존재하는 데이터 상태를 동기화하여 데이터 일관성을 최대한 보장해주려고 노력합니다. 그리고 이는 추가적인 많은 코드작성이 필요하다는 것을 의미하기도 했습니다.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="2-비동기-미들웨어-사용의-복잡함">2. 비동기 미들웨어 사용의 복잡함<a aria-hidden="true" class="hash-link" href="#2-비동기-미들웨어-사용의-복잡함" title="Direct link to heading">​</a></h3><p>Redux에서 데이터를 비동기적으로 fetching 해오기 위해 redux-saga와 같은 미들웨어를 사용하는 경우가 많이 있습니다. 그리고 위에서 말한 문제점인 데이터 일관성의 문제를 해결하기 위해 데이터 패칭과 관련 상태와 액션들을 모두 정의하고 주기적인 refetching 로직이 추가됨에 따라 안그래도 거대한 Layer가 더욱 비대하고 복잡해졌습니다. Redux가 너무 많은 일들을 하게 된 것이죠.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="data-fetching-library를-사용함으로써-얻을-수-있는-것들">Data fetching library를 사용함으로써 얻을 수 있는 것들<a aria-hidden="true" class="hash-link" href="#data-fetching-library를-사용함으로써-얻을-수-있는-것들" title="Direct link to heading">​</a></h2><ul><li><strong>Server-state</strong> library (Redux, Mobx등은 <strong>client-state</strong> library로 비동기 데이터를 저장하는데 사용할 수 있지만 비효율적)</li><li>Server 와 Client간의 비동기 작업 관리</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="1-data-synchronization">1. Data Synchronization<a aria-hidden="true" class="hash-link" href="#1-data-synchronization" title="Direct link to heading">​</a></h3><p>Data fetching library를 사용하게 되면 데이터 일관성의 문제를 해결하는 역할이 개발자가 아닌 라이브러리로 바뀌게 됩니다. fetching 해온 데이터는 캐싱하여 관리하고 오래된 데이터는 background에서 자동으로 업데이트합니다.</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="자동으로-background에서-refetching-하는-경우">자동으로 background에서 refetching 하는 경우<a aria-hidden="true" class="hash-link" href="#자동으로-background에서-refetching-하는-경우" title="Direct link to heading">​</a></h4><ul><li>query가 mount 되었을 때</li><li>window가 refocuse 되었을 때</li><li>network가 재연결 되었을 떄</li><li>query configure로 refetch interval를 설정했을 때</li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="2-simple">2. Simple<a aria-hidden="true" class="hash-link" href="#2-simple" title="Direct link to heading">​</a></h3><p>일일히 정의해줘야할 data-fetching과 관련된 상태(status, data, isFetching, isSuccess, isError)를 한꺼번에 제어할 수 있으며 데이터 동기화 로직과 redux-saga에서 작업하는 비동기 로직을 완전히 걷어낼 수 있습니다.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="-reference">📌 reference<a aria-hidden="true" class="hash-link" href="#-reference" title="Direct link to heading">​</a></h2><ul><li><a href="https://ridicorp.com/story/how-to-use-redux-in-ridi/" target="_blank" rel="noopener noreferrer">리덕스 잘 쓰고 계시나요?</a></li><li><a href="https://react-query.tanstack.com/guides/does-this-replace-client-state" target="_blank" rel="noopener noreferrer">Does React Query replace Redux, MobX or other global state managers?</a></li><li><a href="https://blog.bitsrc.io/how-to-start-using-react-query-4869e3d5680d" target="_blank" rel="noopener noreferrer">How and Why You Should Use React Query</a></li><li><a href="https://maxkim-j.github.io/posts/react-query-preview" target="_blank" rel="noopener noreferrer">React Query 살펴보기</a></li><li><a href="https://blog.rhostem.com/posts/2021-02-01T00:00:00.000Z" target="_blank" rel="noopener noreferrer">React Query로 서버 상태 관리하기</a></li><li><a href="https://dev.to/g_abud/why-i-quit-redux-1knl" target="_blank" rel="noopener noreferrer">Why I Stopped Using Redux</a></li><li><a href="https://ko.wikipedia.org/wiki/CAP_%EC%A0%95%EB%A6%AC" target="_blank" rel="noopener noreferrer">CAP 정리</a></li></ul></div><footer class="row docusaurus-mt-lg blogPostDetailsFull_xD8n"><div class="col"><b>Tags:</b><ul class="tags_NBRY padding--none margin-left--sm"><li class="tag_F03v"><a class="tag_WK-t tagRegular_LXbV" href="/blog/tags/react/">react</a></li></ul></div><div class="col margin-top--sm"><a href="https://github.com/kooku-dev/kooku-dev.github.io/edit/main/blog/data-fetching-library.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/react가-class-component에서-functional-component로-패러다임을-전환한-이유/"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">« <!-- -->React가 Class Component에서 Functional Component로 패러다임을 전환한 이유</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/next-image-에-대해/"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">next/image 에 대해<!-- --> »</div></a></div></nav></main><div class="col col--2"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#기존-상태관리-라이브러리들의-문제점" class="table-of-contents__link toc-highlight">기존 상태관리 라이브러리들의 문제점</a><ul><li><a href="#1-데이터-일관성-consistency" class="table-of-contents__link toc-highlight">1. 데이터 일관성 (Consistency)</a></li><li><a href="#2-비동기-미들웨어-사용의-복잡함" class="table-of-contents__link toc-highlight">2. 비동기 미들웨어 사용의 복잡함</a></li></ul></li><li><a href="#data-fetching-library를-사용함으로써-얻을-수-있는-것들" class="table-of-contents__link toc-highlight">Data fetching library를 사용함으로써 얻을 수 있는 것들</a><ul><li><a href="#1-data-synchronization" class="table-of-contents__link toc-highlight">1. Data Synchronization</a></li><li><a href="#2-simple" class="table-of-contents__link toc-highlight">2. Simple</a></li></ul></li><li><a href="#-reference" class="table-of-contents__link toc-highlight">📌 reference</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog/">블로그</a></li><li class="footer__item"><a href="https://github.com/kooku-dev/kooku-dev.github.io" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 kooku-log, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.caa89752.js"></script>
<script src="/assets/js/main.f2a31ec8.js"></script>
</body>
</html>