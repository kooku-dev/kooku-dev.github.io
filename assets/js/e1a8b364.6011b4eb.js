"use strict";(self.webpackChunkkooku_log=self.webpackChunkkooku_log||[]).push([[1692],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return g}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=a.createContext({}),m=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=m(e.components);return a.createElement(p.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},s=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,p=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),s=m(n),g=r,d=s["".concat(p,".").concat(g)]||s[g]||u[g]||i;return n?a.createElement(d,o(o({ref:t},c),{},{components:n})):a.createElement(d,o({ref:t},c))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=s;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var m=2;m<i;m++)o[m]=n[m];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}s.displayName="MDXCreateElement"},8007:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return p},metadata:function(){return m},assets:function(){return c},toc:function(){return u},default:function(){return g}});var a=n(7462),r=n(3366),i=(n(7294),n(3905)),o=["components"],l={title:"next/image \uc5d0 \ub300\ud574",date:new Date("2021-05-23T00:00:00.000Z"),cover:"",tags:["nextjs"]},p=void 0,m={permalink:"/blog/next-image-\uc5d0-\ub300\ud574",editUrl:"https://github.com/kooku-dev/kooku-dev.github.io/edit/main/blog/blog/next-image-\uc5d0-\ub300\ud574.md",source:"@site/blog/next-image-\uc5d0-\ub300\ud574.md",title:"next/image \uc5d0 \ub300\ud574",description:"Brand site\ub97c \uac1c\ubc1c\ud558\uba70 SEO\ub97c \ub192\ud788\uae30 \uc704\ud574 \uae30\uc874 Vue.js\ub85c \ub418\uc5b4\uc788\ub294 \ud504\ub85c\uc81d\ud2b8\ub97c next.js \ub85c \ud504\ub808\uc784\uc6cc\ud06c\ub97c \ubcc0\uacbd\ud558\ub294 \uc791\uc5c5\uc744 \uc9c4\ud589\ud55c \uacbd\ud5d8\uc774 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ub54c \uc0c8\ub85c\uc6b4 \ud504\ub808\uc784\uc6cc\ud06c\ub85c Next.js\ub97c \uc120\ud0dd\ud55c \ubc30\uacbd\uc73c\ub85c\ub294 \uc0c8\ub85c\uc6b4 v10\uc774 \ub098\uc654\uae30\ub3c4 \ud588\uace0, \uac00\uc7a5 \uc778\uae30\uc788\ub294 \ud504\ub808\uc784\uc6cc\ud06c \uc911 \ud558\ub098\uc774\uae30 \ub54c\ubb38\uc785\ub2c8\ub2e4.",date:"2021-05-23T00:00:00.000Z",formattedDate:"May 23, 2021",tags:[{label:"nextjs",permalink:"/blog/tags/nextjs"}],readingTime:5.545,truncated:!1,authors:[],prevItem:{title:"Data Fetching Library",permalink:"/blog/data-fetching-library"},nextItem:{title:"Web Vitals",permalink:"/blog/web-vitals"}},c={authorsImageUrls:[]},u=[{value:"<code>next/image</code>\uac00 \uc218\ud589\ud558\ub294 \uae30\ub2a5\uc740 \ub2e4\uc74c\uacfc \uac19\uc2b5\ub2c8\ub2e4.",id:"nextimage\uac00-\uc218\ud589\ud558\ub294-\uae30\ub2a5\uc740-\ub2e4\uc74c\uacfc-\uac19\uc2b5\ub2c8\ub2e4",children:[],level:3},{value:"memory leak",id:"memory-leak",children:[],level:2},{value:"\ub9c8\ubb34\ub9ac",id:"\ub9c8\ubb34\ub9ac",children:[],level:2}],s={toc:u};function g(e){var t=e.components,l=(0,r.Z)(e,o);return(0,i.kt)("wrapper",(0,a.Z)({},s,l,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Brand site\ub97c \uac1c\ubc1c\ud558\uba70 SEO\ub97c \ub192\ud788\uae30 \uc704\ud574 \uae30\uc874 Vue.js\ub85c \ub418\uc5b4\uc788\ub294 \ud504\ub85c\uc81d\ud2b8\ub97c next.js \ub85c \ud504\ub808\uc784\uc6cc\ud06c\ub97c \ubcc0\uacbd\ud558\ub294 \uc791\uc5c5\uc744 \uc9c4\ud589\ud55c \uacbd\ud5d8\uc774 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ub54c \uc0c8\ub85c\uc6b4 \ud504\ub808\uc784\uc6cc\ud06c\ub85c Next.js\ub97c \uc120\ud0dd\ud55c \ubc30\uacbd\uc73c\ub85c\ub294 \uc0c8\ub85c\uc6b4 v10\uc774 \ub098\uc654\uae30\ub3c4 \ud588\uace0, \uac00\uc7a5 \uc778\uae30\uc788\ub294 \ud504\ub808\uc784\uc6cc\ud06c \uc911 \ud558\ub098\uc774\uae30 \ub54c\ubb38\uc785\ub2c8\ub2e4."),(0,i.kt)("p",null,"Next.js\uac00 \uc774\ubc88 v10\uc774 \ub098\uc624\uac8c \ub418\uba74\uc11c \ub9ce\uc740 \uae30\ub2a5\ub4e4\uc774 \ucd94\uac00 \ub418\uc5c8\ub294\ub370, \uadf8 \uc911 \uac00\uc7a5 \uad00\uc2ec\uc774 \uac14\ub358\uac8c ",(0,i.kt)("a",{parentName:"p",href:"https://nextjs.org/blog/next-10#built-in-image-component-and-automatic-image-optimization"},(0,i.kt)("inlineCode",{parentName:"a"},"next/image"))," \uc785\ub2c8\ub2e4."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx"},'import Image from \'next/image\';\n\nfunction Home() {\n  return (\n    <>\n      <h1>My Homepage</h1>\n      <Image src="/me.png" alt="Picture of the author" width={500} height={500} />\n      <p>Welcome to my homepage!</p>\n    </>\n  );\n}\n\nexport default Home;\n')),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"next/image"),"\ub294 next.js\uc5d0\uc11c \uc81c\uacf5\ud558\ub294 \uc774\ubbf8\uc9c0 \ucd5c\uc801\ud654 \ucef4\ud3ec\ub10c\ud2b8\uc785\ub2c8\ub2e4. ",(0,i.kt)("inlineCode",{parentName:"p"},"Static HTML Export"),"\uc5d0\uc11c\ub294 \uc0ac\uc6a9\ud560 \uc218 \uc5c6\ub294\ub370, \uadf8 \uc774\uc720\ub294 Server\uc5d0\uc11c \ub3cc\uc544\uac00\uae30 \ub54c\ubb38\uc785\ub2c8\ub2e4."),(0,i.kt)("h3",{id:"nextimage\uac00-\uc218\ud589\ud558\ub294-\uae30\ub2a5\uc740-\ub2e4\uc74c\uacfc-\uac19\uc2b5\ub2c8\ub2e4"},(0,i.kt)("inlineCode",{parentName:"h3"},"next/image"),"\uac00 \uc218\ud589\ud558\ub294 \uae30\ub2a5\uc740 \ub2e4\uc74c\uacfc \uac19\uc2b5\ub2c8\ub2e4."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"webp \ud3ec\uba67\uc73c\ub85c \uc790\ub3d9\ubcc0\ud658"),(0,i.kt)("li",{parentName:"ul"},"automatic lazy-loading"),(0,i.kt)("li",{parentName:"ul"},"correct sizing across devices")),(0,i.kt)("p",null,"\uc790\ub3d9 \uc774\ubbf8\uc9c0 \ucd5c\uc801\ud654 \uae30\ub2a5\uc774 \ub9e4\uc6b0 \ud765\ubbf8\ub85c\uc6b4\ub370, image request\uac00 \ub4e4\uc5b4\uc62c \ub54c\ub9c8\ub2e4 device \ud06c\uae30\ubcc4\ub85c \uc774\ubbf8\uc9c0 \ud06c\uae30(image quality)\ub97c \uc870\uc808\ud574\uc11c \ubcf4\ub0b4\uc90d\ub2c8\ub2e4."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"next-image-header",src:n(3849).Z})),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"next/image")," header\ub97c \uc0b4\ud3b4\ubcf4\uaca0\uc2b5\ub2c8\ub2e4.\n\uc2e4\uc81c \uc774\ubbf8\uc9c0\ub294 ",(0,i.kt)("inlineCode",{parentName:"p"},"image/bg-kasa.png")," path\uc5d0 \uc788\uc9c0\ub9cc ",(0,i.kt)("inlineCode",{parentName:"p"},"_next/image")," \ub85c \uc694\uccad\ub41c \uac83\uc744 \uc54c \uc218 \uc788\uc2b5\ub2c8\ub2e4. query\ub97c \uc0b4\ud3b4\ubcf4\uba74 q=75 \ub85c \ub418\uc5b4\uc788\ub294\ub370 \uc774\ub294 image-quality\ub97c 75%\ub85c \ubcf4\ub0b4\ub2ec\ub77c\ub294 \uac83 \uc785\ub2c8\ub2e4. \uc989, \ud604\uc7ac viewport width\uac00 \ud06c\uc9c0 \uc54a\uc73c\ub2c8 100% quality\ub85c \ubcf4\ub0b4\uba74 network\uc0c1 \uc190\ud574\uc774\uae30 \ub54c\ubb38\uc5d0 75%\ub85c \ubcf4\ub0b4\ub294 \uac83 \uc785\ub2c8\ub2e4. \uadf8\ub9ac\uace0 \uc5c5\ub85c\ub4dc\ud55c \uc774\ubbf8\uc9c0\ub294 \ud30c\uc77c\ud3ec\uba67\uc774 png\uc778\ub370, response headers\ub97c \ubcf4\uac8c\ub418\uba74 ",(0,i.kt)("inlineCode",{parentName:"p"},"Content-Type: image/webp")," \uc778 \uac83\uc744 \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.(webp\ub85c \ud30c\uc77c\ud3ec\uba67 \ubcc0\uacbd)"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"next/image"),"\ub97c \uc0ac\uc6a9\ud558\uba74 \ube0c\ub77c\uc6b0\uc800\uc5d0\uc11c \uc9c0\uc6d0\ud558\ub294 \uacbd\uc6b0 WebP\uc640 \uac19\uc740 \ucd5c\uc2e0 \ud615\uc2dd\uc758 \uc774\ubbf8\uc9c0\ub85c \ubcc0\ud658\ud558\uc5ec \uc804\uc1a1\ud558\uace0, \uc774\ubbf8\uc9c0 \ud06c\uae30\ub97c \uc870\uc815\ud558\uace0 \ucd5c\uc801\ud654\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ub807\uac8c \ud558\uba74 viewPort\uac00 \ub354 \uc791\uc740 \uc7a5\uce58\ub85c \ud070 \uc774\ubbf8\uc9c0\uac00 \uc804\uc1a1\ub418\ub294 \uac83\uc744 \ub9c9\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,i.kt)("p",null,"\uc0dd\uc131 \uac00\ub2a5\ud55c \ucd1d \uc774\ubbf8\uc9c0 \uc218\ub97c \uc904\uc774\uae30 \uc704\ud574 ",(0,i.kt)("inlineCode",{parentName:"p"},"deviceSizes")," \ubc0f ",(0,i.kt)("inlineCode",{parentName:"p"},"imageSizes"),"\ub97c \uad6c\uc131 \ud560 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"module.exports = {\n  images: {\n    deviceSizes: [640, 750, 828, 1080, 1200, 1920, 2048, 3840],\n    imageSizes: [16, 32, 48, 64, 96, 128, 256, 384]\n  }\n};\n")),(0,i.kt)("h2",{id:"memory-leak"},"memory leak"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"next/image"),"\uc5d0\uc11c memory leak \ubb38\uc81c\uac00 \uc9c0\uc18d\uc801\uc73c\ub85c \uc81c\uae30 \ub418\uc5c8\uc2b5\ub2c8\ub2e4."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/vercel/next.js/issues/20915"},"https://github.com/vercel/next.js/issues/20915")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/vercel/next.js/issues/23189"},"https://github.com/vercel/next.js/issues/23189"))),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"next/image"),"\uc5d0 \uc758\ud574 \ucd5c\uc801\ud654\ub41c \uc774\ubbf8\uc9c0\ub294 \ub9cc\ub8cc\uc77c\uc5d0 \ub3c4\ub2ec\ud560 \ub54c\uae4c\uc9c0 ",(0,i.kt)("inlineCode",{parentName:"p"},"<distDir>/cache../images"),"\uc5d0 \uce90\uc2f1\uc744 \ud558\uace0, \ub9cc\ub8cc\uac00 \ub418\uba74 \uce90\uc2f1\ub41c \uc774\ubbf8\uc9c0\ub97c \uc0ad\uc81c\ud558\uace0 \ub2e4\uc2dc \ucd5c\uc801\ud654 \uc774\ubbf8\uc9c0\ub97c \uc0dd\uc131\ud55c \ud6c4 \uce90\uc2f1\uc744 \ud558\ub294 \uae30\ub2a5\uc774 \uc788\ub294\ub370 \uc774\ub54c \uce90\uc2f1\ub41c \uc774\ubbf8\uc9c0\ub97c \uc0ad\uc81c\ud558\ub294 \ub77c\uc774\ube0c\ub7ec\ub9ac\uac00 \uc81c\ub300\ub85c \uc0ad\uc81c\ub97c \uc2dc\ucf1c\uc8fc\uc9c0 \uc54a\ub294 \ubb38\uc81c\uc600\uc2b5\ub2c8\ub2e4."),(0,i.kt)("p",null,"next.js \ub808\ud3ec\uc5d0 v9\uc5d0\uc11c v10\uc73c\ub85c \ubcc0\uacbd\ud55c \ud6c4 memory \uc0ac\uc6a9\ub7c9\uc774 \ube44\uc815\uc0c1\uc801\uc73c\ub85c \ub192\uc544\uc84c\uc73c\uba70 \uc774\ub85c \uc778\ud574 ",(0,i.kt)("inlineCode",{parentName:"p"},"next/image"),"\uc758 image component\ub97c \uc81c\uac70\ud574\uc57c\ub9cc \ud588\ub2e4\ub77c\ub294 \uc774\uc288\uac00 \uacc4\uc18d \uc62c\ub77c\uc654\uc2b5\ub2c8\ub2e4."),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://camo.githubusercontent.com/d88fbdef185b40d56b3a42a699550a469dbaa28f0ca50e2e344644900b972691/68747470733a2f2f692e696d6775722e636f6d2f434b54457863722e706e67",alt:"img"}),"\n",(0,i.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/13972013/104264344-72379580-5459-11eb-8285-7bb2a50adfa5.png",alt:"img"}),"\n",(0,i.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/6556627/105622606-adc25000-5dc7-11eb-8d65-130845bbbbd8.jpeg",alt:"img"})),(0,i.kt)("p",null,"\uc774\uc5d0 next.js\uc5d0\uc11c\ub294 \uce90\uc2f1\ud558\uace0 \uc0ad\uc81c\ud558\ub294 \ub77c\uc774\ube0c\ub7ec\ub9ac\uc640 \ub85c\uc9c1\uc744 \uacc4\uc18d \ubcc0\uacbd\ud558\uace0 \ud14c\uc2a4\ud2b8\ub97c \ud558\ub294 \uc911\uc778 \uac83 \uac19\uc2b5\ub2c8\ub2e4.(canary\uc5d0\uc11c memory-leak \uad00\ub828 \ud53c\uccd0\ub4e4\uc774 \uacc4\uc18d \uc62c\ub77c\uc624\uace0 \uc788\uc2b5\ub2c8\ub2e4.)"),(0,i.kt)("p",null,"\uc81c\uac00 \uc774 \ubb38\uc81c\ub97c \uc54c\uac8c\ub41c \uc774\uc720\ub3c4 \ud604\uc7ac next \uc11c\ubc84\ub97c \ub3cc\ub9ac\uace0 \uc788\ub294 ecs(Amazon Elastic Container Services)\uc758 cpu\uc640 memory\uc758 \uc0ac\uc6a9\ub7c9\uc774 \ube44\uc815\uc0c1\uc801\uc778 \uacbd\uc6b0\uac00 \uc874\uc7ac\ud558\uc600\uace0, image\uac00 pending \uc0c1\ud0dc\ub85c \uc81c\ub300\ub85c \ubc1b\uc544\uc9c0\uc9c0 \uc54a\uace0 ecs\uac00 \ube44\uc815\uc0c1\uc801\uc73c\ub85c \uc885\ub8cc\ub418\ub294 \ubb38\uc81c\uac00 \uacc4\uc18d \ubc1c\uc0dd\ud588\uae30 \ub54c\ubb38\uc785\ub2c8\ub2e4."),(0,i.kt)("p",null,"\ub2e4\uc74c\uc740 \uc81c\uac00 \uc791\uc5c5\ud55c \ud504\ub85c\uc81d\ud2b8\uc5d0\uc11c ",(0,i.kt)("inlineCode",{parentName:"p"},"next/image"),"\ub97c \uc0ac\uc6a9\ud588\ub2e4\uac00 \uc81c\uac70\ud55c \ud6c4\uc758 cpu, memory \uc0ac\uc6a9\ub7c9\uc785\ub2c8\ub2e4. ",(0,i.kt)("strong",{parentName:"p"},"5/11 15:30")," \uc5d0 \uc81c\uac70\ud55c \ud6c4 \ubc30\ud3ec\ub97c \ud588\ub294\ub370 \ud655\uc5f0\ud55c \ucc28\uc774\ub97c \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. (\uadf8\ub798\ud504\uac00 \uc694\ub3d9\uce58\ub294 \uacf3\uc758 \uc0c9\uae54\uc774 \ud654\ub824\ud55c\ub370 8\uac1c\uc774\uc0c1\uc758 pod\uac00 \ube44\uc815\uc0c1\uc801\uc73c\ub85c \uc885\ub8cc\ub418\uace0 \uc2e4\ud589\ub418\uc5c8\uae30 \ub54c\ubb38\uc785\ub2c8\ub2e4.)"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"cpu",src:n(8480).Z})),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"memory",src:n(4172).Z})),(0,i.kt)("h2",{id:"\ub9c8\ubb34\ub9ac"},"\ub9c8\ubb34\ub9ac"),(0,i.kt)("p",null,"\ud604\uc7ac next.js\uc758 stable version\uc740 v10.2.0 \uc785\ub2c8\ub2e4. ",(0,i.kt)("inlineCode",{parentName:"p"},"next/image"),"\ub294 \ubd84\uba85\ud788 \uc88b\uc740 \uae30\ub2a5\uc774\uc9c0\ub9cc \uc704\uc758 \uc774\uc288\uac00 \ud574\uacb0\ub418\uc9c0 \uc54a\ub294\ub2e4\uba74 production\uc5d0\uc11c \uc0ac\uc6a9\ud558\uae30\uc5d0\ub294 \uc5b4\ub824\uc6b8 \uac83 \uac19\uc2b5\ub2c8\ub2e4."))}g.isMDXComponent=!0},8480:function(e,t,n){t.Z=n.p+"assets/images/cpu-b14e70f3aba2228a9f34b513bcd18b4d.png"},4172:function(e,t,n){t.Z=n.p+"assets/images/memory-398260320176343b36ec271f0db92fa2.png"},3849:function(e,t,n){t.Z=n.p+"assets/images/next-image-82c15f554cb907f12e8453d5a7e60909.png"}}]);